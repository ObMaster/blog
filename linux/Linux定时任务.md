### 一、crontab命令

> 基本命令

- crontab -l		查看crontab的工作任务
- crontab -e       编辑crontab的工作任务
- crontab -r		移除所有的crontab的工作任务，若只想移除部分任务，通过 -e 进行编辑

> 创建定时任务

**crontab -e 命令进入vim编辑器，编辑crontab工作任务，每一行表示一个工作任务，每行6个字段：**

| 分钟 | 小时 | 日期 | 月份  | 周   | 指令  |
| ---- | ---- | ---- | ----- | ---- | ----- |
| 0~59 | 0~23 | 1~31 | 1~-12 | 0~7  | order |

其中，**周字段的1~6表示周一到周六，0/7表示周日**；表示时间的特殊字符如下：

| **特殊字符** | **说明**                                                     |
| ------------ | ------------------------------------------------------------ |
| ***** (星号) | * 表示所有时刻，如30 12 * * * ls，表示每天的12:30都执行ls命令 |
| **,** (逗号) | , 表示分隔时刻，如30 10,12 * * * ls，表示每天的10:30，12:30都会执行ls命令 |
| **-** (减号) | - 表示时间范围，如30 10-12 * * * ls，表示每天的10:30，11:30，12:30都会执行ls命令 |
| **/** (斜线) | /n表示每隔n个时间单位后执行命令，如 /30 * * * * ls，表示每隔30分钟执行ls命令 |

==注意：order指定字段的命令必须使用**绝对路径**，若不清楚，使用whereis命令查找觉得路径。==

### 二、修改/etc/crontab文件

**/etc/crontab文件初始内容**

![image-20210625164420938](https://raw.githubusercontent.com/ObMaster/Images/master/blog/image-20210625164420938.png)

可以看的，crontab工作任务较crontab -e 添加的多了一个user-name字段，因为crontab -e里的用户就是使用者自己，故不需要指定，而/etc/crontab是系统文件，需指明用户。

### 三、总结

- 对于用户化的行为，使用 crontab -e 命令
- 对于系统行为，如系统的维护管理等，建议使用 /etc/crontab 文件

